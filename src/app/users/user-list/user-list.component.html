<h2>Usuários</h2>
<div>
  <fieldset>FILTROS
    <br>
    <label>Categoria:
      <select [(ngModel)]="roleFilter">
        <option value="" selected>Todos</option>
        <option *ngFor="let role of roles">{{ role | titlecase }}</option>
      </select>
    </label> 
  </fieldset>
</div>
<div>
  <button  class="btn btn-primary" routerLink="form/">Novo</button>
  <button  class="btn btn-primary" routerLink="random/">(+ aleatorio)</button>
</div>
<!-- <div *ngIf="users$"> -->
  <table>
    <tr>
      <td>ID</td>
      <td>Categoria</td>
      <td>Nome</td>
      <td>Username</td>
      <td>e-mail</td>
      <td>Ações</td>
    </tr>
    <tr *ngFor="let user of (users$ | async) | userFilter:roleFilter">
      <td>{{user._id}}</td>
      <td>{{user.role | titlecase}}</td>
      <td>{{user.name}}</td>
      <td>{{user.username}}</td>
      <td>{{user.email}}</td>
      <td>
        <button  class="btn btn-primary" routerLink="edit/{{user._id}}">Editar</button>
        <button  class="btn btn-danger" (click)="deleteUser(user._id)">Excluir</button>
      </td>
    </tr>
  </table>
<!-- </div> -->

<app-user-search></app-user-search>